<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>長照服務計算器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .floating-calculator {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid #e5e7eb;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            transition: opacity 0.3s ease;
        }
        
        .back-to-top.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .floating-calculator {
                top: 10px;
                right: 10px;
                left: 10px;
                width: auto;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- 懸浮式計算結果 -->
    <div id="floatingCalculator" class="floating-calculator rounded-lg p-4 max-w-xs">
        <div class="flex items-center justify-between mb-2">
            <h3 class="text-sm font-semibold text-gray-800">計算結果</h3>
            <select id="displayMode" class="text-xs border rounded px-2 py-1">
                <option value="remaining">餘額</option>
                <option value="selfPay">自付額</option>
                <option value="used">已使用額</option>
            </select>
        </div>
        <div id="floatingAmount" class="text-lg font-bold text-blue-600">$0</div>
    </div>

    <!-- 回到頂端按鈕 -->
    <button id="backToTop" class="back-to-top hidden bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full shadow-lg transition-all duration-300">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
        </svg>
    </button>

    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8">長照服務計算器</h1>
        
        <!-- 基本資料設定 -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">基本資料</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">長照等級 (CMS)</label>
                    <select id="cmsLevel" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="">請選擇長照等級</option>
                        <option value="2">CMS 2</option>
                        <option value="3">CMS 3</option>
                        <option value="4">CMS 4</option>
                        <option value="5">CMS 5</option>
                        <option value="6">CMS 6</option>
                        <option value="7">CMS 7</option>
                        <option value="8">CMS 8</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">收入狀況</label>
                    <select id="incomeLevel" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="general">一般戶 (自付16%)</option>
                        <option value="middle">中低收入戶 (自付5%)</option>
                        <option value="low">低收入戶 (自付0%)</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">是否聘請外籍看護</label>
                    <select id="foreignCare" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="no">否</option>
                        <option value="yes">是</option>
                    </select>
                </div>
            </div>
            <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                <div class="text-sm text-gray-600">
                    <span class="font-medium">補助額度：</span>
                    <span id="subsidyAmount" class="text-blue-600 font-semibold">請選擇長照等級</span>
                </div>
            </div>
        </div>

        <!-- 服務計算器 -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">服務計算器</h2>
            
            <!-- BA碼服務選擇 -->
            <div class="mb-6">
                <button class="w-full text-left p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors" onclick="toggleSection('baSection')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-700">居家服務 (BA碼)</h3>
                        <svg id="baArrow" class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div id="baSection" class="hidden mt-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">選擇服務項目</label>
                            <select id="baService" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">請選擇服務項目</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">使用次數</label>
                            <input type="number" id="baCount" min="1" value="1" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                    <button id="addBaService" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors">
                        新增服務
                    </button>
                </div>
            </div>

            <!-- BB碼服務選擇 -->
            <div class="mb-6">
                <button class="w-full text-left p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors" onclick="toggleSection('bbSection')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-700">日照服務 (BB碼)</h3>
                        <svg id="bbArrow" class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div id="bbSection" class="hidden mt-4">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm border-collapse border border-gray-300">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                    <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">單價</th>
                                    <th class="border border-gray-300 px-2 py-2 text-center">次數</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">小計</th>
                                </tr>
                            </thead>
                            <tbody id="bbTableInput">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- BC碼服務選擇 -->
            <div class="mb-6">
                <button class="w-full text-left p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors" onclick="toggleSection('bcSection')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-700">家托服務 (BC碼)</h3>
                        <svg id="bcArrow" class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div id="bcSection" class="hidden mt-4">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm border-collapse border border-gray-300">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                    <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">單價</th>
                                    <th class="border border-gray-300 px-2 py-2 text-center">次數</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">小計</th>
                                </tr>
                            </thead>
                            <tbody id="bcTableInput">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- BD碼服務選擇 -->
            <div class="mb-6">
                <button class="w-full text-left p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors" onclick="toggleSection('bdSection')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-700">社區服務 (BD碼)</h3>
                        <svg id="bdArrow" class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div id="bdSection" class="hidden mt-4">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm border-collapse border border-gray-300">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                    <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">單價</th>
                                    <th class="border border-gray-300 px-2 py-2 text-center">次數</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">小計</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">BD01</td>
                                    <td class="border border-gray-300 px-2 py-2">社區式協助沐浴</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">200</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('BD01', 200, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="BD01-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">BD02</td>
                                    <td class="border border-gray-300 px-2 py-2">社區式晚餐</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">150</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('BD02', 150, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="BD02-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">BD03</td>
                                    <td class="border border-gray-300 px-2 py-2">社區式交通接送服務</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">100</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('BD03', 100, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="BD03-subtotal">$0</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- C碼服務選擇 -->
            <div class="mb-6">
                <button class="w-full text-left p-4 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors" onclick="toggleSection('cSection')">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-700">專業服務 (C碼)</h3>
                        <svg id="cArrow" class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </button>
                <div id="cSection" class="hidden mt-4">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm border-collapse border border-gray-300">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                    <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">單價</th>
                                    <th class="border border-gray-300 px-2 py-2 text-center">次數</th>
                                    <th class="border border-gray-300 px-2 py-2 text-right">小計</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CA07</td>
                                    <td class="border border-gray-300 px-2 py-2">IADLs 復能、ADLs復能照護(3次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">4500</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CA07', 4500, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CA07-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CA08</td>
                                    <td class="border border-gray-300 px-2 py-2">個別化服務計畫擬定與執行(4次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">6000</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CA08', 6000, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CA08-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CB01</td>
                                    <td class="border border-gray-300 px-2 py-2">營養照護(4次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">4000</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CB01', 4000, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CB01-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CB02</td>
                                    <td class="border border-gray-300 px-2 py-2">進食與吞嚥照護(6次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">9000</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CB02', 9000, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CB02-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CB03</td>
                                    <td class="border border-gray-300 px-2 py-2">困擾行為照護(3次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">4500</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CB03', 4500, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CB03-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CB04</td>
                                    <td class="border border-gray-300 px-2 py-2">臥床或長期活動受限照護(6次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">9000</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CB04', 9000, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CB04-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CC01</td>
                                    <td class="border border-gray-300 px-2 py-2">居家環境安全或無障礙空間規劃(2次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">2000</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CC01', 2000, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CC01-subtotal">$0</td>
                                </tr>
                                <tr>
                                    <td class="border border-gray-300 px-2 py-2">CD02</td>
                                    <td class="border border-gray-300 px-2 py-2">居家護理指導與諮詢(4次)</td>
                                    <td class="border border-gray-300 px-2 py-2 text-right">6000</td>
                                    <td class="border border-gray-300 px-2 py-2 text-center">
                                        <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('CD02', 6000, this.value)">
                                    </td>
                                    <td class="border border-gray-300 px-2 py-2 text-right" id="CD02-subtotal">$0</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- 已選服務列表 -->
            <div class="mb-6">
                <h3 class="text-lg font-medium text-gray-700 mb-3">已選服務</h3>
                <div id="selectedServices" class="space-y-2">
                    <p class="text-gray-500 text-sm">尚未選擇任何服務</p>
                </div>
            </div>

            <!-- 計算結果 -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg">
                <div class="text-center">
                    <div class="text-sm text-gray-600">已使用額</div>
                    <div id="totalUsed" class="text-xl font-bold text-red-600">$0</div>
                </div>
                <div class="text-center">
                    <div class="text-sm text-gray-600">自付額</div>
                    <div id="selfPayAmount" class="text-xl font-bold text-orange-600">$0</div>
                </div>
                <div class="text-center">
                    <div class="text-sm text-gray-600">餘額</div>
                    <div id="remainingAmount" class="text-xl font-bold text-green-600">$0</div>
                </div>
            </div>
        </div>

        <!-- 服務價格表 -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-6">長照服務價格表</h2>
            
            <!-- BA碼價格表 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium text-gray-700 mb-4">居家服務 (BA碼)</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse border border-gray-300">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">給付價格</th>
                            </tr>
                        </thead>
                        <tbody id="baTable">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- BB碼價格表 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium text-gray-700 mb-4">日照服務 (BB碼)</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse border border-gray-300">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">給付價格</th>
                            </tr>
                        </thead>
                        <tbody id="bbTable">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- BC碼價格表 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium text-gray-700 mb-4">家托服務 (BC碼)</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse border border-gray-300">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">給付價格</th>
                            </tr>
                        </thead>
                        <tbody id="bcTable">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- BD碼價格表 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium text-gray-700 mb-4">社區服務 (BD碼)</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse border border-gray-300">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">給付價格</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="border border-gray-300 px-2 py-2">BD01</td><td class="border border-gray-300 px-2 py-2">社區式協助沐浴</td><td class="border border-gray-300 px-2 py-2 text-right">200</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">BD02</td><td class="border border-gray-300 px-2 py-2">社區式晚餐</td><td class="border border-gray-300 px-2 py-2 text-right">150</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">BD03</td><td class="border border-gray-300 px-2 py-2">社區式交通接送服務</td><td class="border border-gray-300 px-2 py-2 text-right">100</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- C碼價格表 -->
            <div>
                <h3 class="text-lg font-medium text-gray-700 mb-4">專業服務 (C碼)</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse border border-gray-300">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="border border-gray-300 px-2 py-2 text-left">碼別</th>
                                <th class="border border-gray-300 px-2 py-2 text-left">服務項目</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">給付價格</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">一般戶</th>
                                <th class="border border-gray-300 px-2 py-2 text-right">中低收</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="border border-gray-300 px-2 py-2">CA07</td><td class="border border-gray-300 px-2 py-2">IADLs 復能、ADLs復能照護(3次)</td><td class="border border-gray-300 px-2 py-2 text-right">4500</td><td class="border border-gray-300 px-2 py-2 text-right">240/次</td><td class="border border-gray-300 px-2 py-2 text-right">75/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CA08</td><td class="border border-gray-300 px-2 py-2">個別化服務計畫擬定與執行(4次)</td><td class="border border-gray-300 px-2 py-2 text-right">6000</td><td class="border border-gray-300 px-2 py-2 text-right">240/次</td><td class="border border-gray-300 px-2 py-2 text-right">75/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CB01</td><td class="border border-gray-300 px-2 py-2">營養照護(4次)</td><td class="border border-gray-300 px-2 py-2 text-right">4000</td><td class="border border-gray-300 px-2 py-2 text-right">160/次</td><td class="border border-gray-300 px-2 py-2 text-right">50/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CB02</td><td class="border border-gray-300 px-2 py-2">進食與吞嚥照護(6次)</td><td class="border border-gray-300 px-2 py-2 text-right">9000</td><td class="border border-gray-300 px-2 py-2 text-right">240/次</td><td class="border border-gray-300 px-2 py-2 text-right">75/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CB03</td><td class="border border-gray-300 px-2 py-2">困擾行為照護(3次)</td><td class="border border-gray-300 px-2 py-2 text-right">4500</td><td class="border border-gray-300 px-2 py-2 text-right">240/次</td><td class="border border-gray-300 px-2 py-2 text-right">75/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CB04</td><td class="border border-gray-300 px-2 py-2">臥床或長期活動受限照護(6次)</td><td class="border border-gray-300 px-2 py-2 text-right">9000</td><td class="border border-gray-300 px-2 py-2 text-right">240/次</td><td class="border border-gray-300 px-2 py-2 text-right">75/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CC01</td><td class="border border-gray-300 px-2 py-2">居家環境安全或無障礙空間規劃(2次)</td><td class="border border-gray-300 px-2 py-2 text-right">2000</td><td class="border border-gray-300 px-2 py-2 text-right">160/次</td><td class="border border-gray-300 px-2 py-2 text-right">50/次</td></tr>
                            <tr><td class="border border-gray-300 px-2 py-2">CD02</td><td class="border border-gray-300 px-2 py-2">居家護理指導與諮詢(4次)</td><td class="border border-gray-300 px-2 py-2 text-right">6000</td><td class="border border-gray-300 px-2 py-2 text-right">240/次</td><td class="border border-gray-300 px-2 py-2 text-right">75/次</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 數據定義
        const cmsSubsidy = {
            2: 10020, 3: 15460, 4: 18580, 5: 24100,
            6: 28070, 7: 32090, 8: 36180
        };

        const cmsForeignCareSubsidy = {
            2: 3006, 3: 4638, 4: 5574, 5: 7230,
            6: 8421, 7: 9627, 8: 10854
        };

        const selfPayRates = {
            general: 0.16, middle: 0.05, low: 0
        };

        const baServices = {
            'BA01': { name: '基本身體清潔', price: 260 },
            'BA02': { name: '基本日常照顧', price: 195 },
            'BA03': { name: '測量生命徵象', price: 35 },
            'BA04': { name: '協助進食或管灌餵食', price: 130 },
            'BA05': { name: '餐食照顧', price: 310 },
            'BA07': { name: '協助沐浴及洗頭', price: 325 },
            'BA08': { name: '足部照護', price: 500 },
            'BA09': { name: '到宅沐浴車服務-第1型', price: 2200 },
            'BA09A': { name: '到宅沐浴車服務-第2型', price: 2500 },
            'BA10': { name: '翻身拍背', price: 155 },
            'BA11': { name: '肢體關節活動', price: 195 },
            'BA12': { name: '協助上下樓梯', price: 130 },
            'BA13': { name: '陪同外出', price: 195 },
            'BA14': { name: '陪同就醫', price: 685 },
            'BA15-1': { name: '家務協助(自用)', price: 195 },
            'BA15-2': { name: '家務協助(共用)', price: 195 },
            'BA16-1': { name: '代購或代領或代送服務(自用)', price: 130 },
            'BA16-2': { name: '代購或代領或代送服務(共用)', price: 130 },
            'BA17A': { name: '人工氣管內分泌物抽吸', price: 75 },
            'BA17B': { name: '口腔內分泌物抽吸', price: 65 },
            'BA17C': { name: '尿管及鼻胃管之清潔與固定', price: 50 },
            'BA17D1': { name: '血糖機驗血糖', price: 50 },
            'BA17D2': { name: '甘油球通便', price: 50 },
            'BA17E': { name: '依指示置入藥盒', price: 50 },
            'BA18': { name: '安全看視', price: 200 },
            'BA20': { name: '陪伴服務', price: 175 },
            'BA22': { name: '巡視服務', price: 130 },
            'BA23': { name: '協助洗頭', price: 200 },
            'BA24': { name: '協助排泄', price: 220 }
        };

        const bbServices = {
            'BB01': { name: '日間照顧(全日)-第1型(CMS:2)', price: 675, cms: 2 },
            'BB02': { name: '日間照顧(半日)-第1型(CMS:2)', price: 340, cms: 2 },
            'BB03': { name: '日間照顧(全日)-第2型(CMS:3)', price: 840, cms: 3 },
            'BB04': { name: '日間照顧(半日)-第2型(CMS:3)', price: 420, cms: 3 },
            'BB05': { name: '日間照顧(全日)-第3型(CMS:4)', price: 920, cms: 4 },
            'BB06': { name: '日間照顧(半日)-第3型(CMS:4)', price: 460, cms: 4 },
            'BB07': { name: '日間照顧(全日)-第4型(CMS:5)', price: 1045, cms: 5 },
            'BB08': { name: '日間照顧(半日)-第4型(CMS:5)', price: 525, cms: 5 },
            'BB09': { name: '日間照顧(全日)-第5型(CMS:6)', price: 1130, cms: 6 },
            'BB10': { name: '日間照顧(半日)-第5型(CMS:6)', price: 565, cms: 6 },
            'BB11': { name: '日間照顧(全日)-第6型(CMS:7)', price: 1210, cms: 7 },
            'BB12': { name: '日間照顧(半日)-第6型(CMS:7)', price: 605, cms: 7 },
            'BB13': { name: '日間照顧(全日)-第7型(CMS:8)', price: 1285, cms: 8 },
            'BB14': { name: '日間照顧(半日)-第7型(CMS:8)', price: 645, cms: 8 }
        };

        const bcServices = {
            'BC01': { name: '家庭托顧(全日)-第1型(CMS:2)', price: 625, cms: 2 },
            'BC02': { name: '家庭托顧(半日)-第1型(CMS:2)', price: 315, cms: 2 },
            'BC03': { name: '家庭托顧(全日)-第2型(CMS:3)', price: 760, cms: 3 },
            'BC04': { name: '家庭托顧(半日)-第2型(CMS:3)', price: 380, cms: 3 },
            'BC05': { name: '家庭托顧(全日)-第3型(CMS:4)', price: 785, cms: 4 },
            'BC06': { name: '家庭托顧(半日)-第3型(CMS:4)', price: 395, cms: 4 },
            'BC07': { name: '家庭托顧(全日)-第4型(CMS:5)', price: 880, cms: 5 },
            'BC08': { name: '家庭托顧(半日)-第4型(CMS:5)', price: 440, cms: 5 },
            'BC09': { name: '家庭托顧(全日)-第5型(CMS:6)', price: 960, cms: 6 },
            'BC10': { name: '家庭托顧(半日)-第5型(CMS:6)', price: 480, cms: 6 },
            'BC11': { name: '家庭托顧(全日)-第6型(CMS:7)', price: 980, cms: 7 },
            'BC12': { name: '家庭托顧(半日)-第6型(CMS:7)', price: 490, cms: 7 },
            'BC13': { name: '家庭托顧(全日)-第7型(CMS:8)', price: 1040, cms: 8 },
            'BC14': { name: '家庭托顧(半日)-第7型(CMS:8)', price: 520, cms: 8 }
        };

        let selectedServices = [];

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            populateServiceOptions();
            populateTables();
            setupEventListeners();
        });

        function populateServiceOptions() {
            const baSelect = document.getElementById('baService');
            for (const [code, service] of Object.entries(baServices)) {
                const option = document.createElement('option');
                option.value = code;
                option.textContent = `${code} - ${service.name} ($${service.price})`;
                baSelect.appendChild(option);
            }
        }

        function updateBbBcOptions() {
            const cmsLevel = parseInt(document.getElementById('cmsLevel').value);
            const bbTableInput = document.getElementById('bbTableInput');
            const bcTableInput = document.getElementById('bcTableInput');
            
            // 清空表格
            bbTableInput.innerHTML = '';
            bcTableInput.innerHTML = '';
            
            if (cmsLevel) {
                // BB碼表格
                for (const [code, service] of Object.entries(bbServices)) {
                    if (service.cms === cmsLevel) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="border border-gray-300 px-2 py-2">${code}</td>
                            <td class="border border-gray-300 px-2 py-2">${service.name}</td>
                            <td class="border border-gray-300 px-2 py-2 text-right">${service.price}</td>
                            <td class="border border-gray-300 px-2 py-2 text-center">
                                <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('${code}', ${service.price}, this.value)">
                            </td>
                            <td class="border border-gray-300 px-2 py-2 text-right" id="${code}-subtotal">$0</td>
                        `;
                        bbTableInput.appendChild(row);
                    }
                }
                
                // BC碼表格
                for (const [code, service] of Object.entries(bcServices)) {
                    if (service.cms === cmsLevel) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td class="border border-gray-300 px-2 py-2">${code}</td>
                            <td class="border border-gray-300 px-2 py-2">${service.name}</td>
                            <td class="border border-gray-300 px-2 py-2 text-right">${service.price}</td>
                            <td class="border border-gray-300 px-2 py-2 text-center">
                                <input type="number" min="0" value="0" class="w-16 text-center border rounded px-1" onchange="updateServiceCount('${code}', ${service.price}, this.value)">
                            </td>
                            <td class="border border-gray-300 px-2 py-2 text-right" id="${code}-subtotal">$0</td>
                        `;
                        bcTableInput.appendChild(row);
                    }
                }
            }
        }

        function populateTables() {
            // BA碼表格
            const baTable = document.getElementById('baTable');
            for (const [code, service] of Object.entries(baServices)) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="border border-gray-300 px-2 py-2">${code}</td>
                    <td class="border border-gray-300 px-2 py-2">${service.name}</td>
                    <td class="border border-gray-300 px-2 py-2 text-right">${service.price}</td>
                `;
                baTable.appendChild(row);
            }

            // BB碼表格
            const bbTable = document.getElementById('bbTable');
            for (const [code, service] of Object.entries(bbServices)) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="border border-gray-300 px-2 py-2">${code}</td>
                    <td class="border border-gray-300 px-2 py-2">${service.name}</td>
                    <td class="border border-gray-300 px-2 py-2 text-right">${service.price}</td>
                `;
                bbTable.appendChild(row);
            }

            // BC碼表格
            const bcTable = document.getElementById('bcTable');
            for (const [code, service] of Object.entries(bcServices)) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="border border-gray-300 px-2 py-2">${code}</td>
                    <td class="border border-gray-300 px-2 py-2">${service.name}</td>
                    <td class="border border-gray-300 px-2 py-2 text-right">${service.price}</td>
                `;
                bcTable.appendChild(row);
            }
        }

        function setupEventListeners() {
            // CMS等級變更
            document.getElementById('cmsLevel').addEventListener('change', function() {
                updateSubsidyAmount();
                updateBbBcOptions();
                calculateTotal();
            });

            // 收入狀況變更
            document.getElementById('incomeLevel').addEventListener('change', calculateTotal);

            // 外籍看護變更
            document.getElementById('foreignCare').addEventListener('change', function() {
                updateSubsidyAmount();
                calculateTotal();
            });

            // 新增服務按鈕
            document.getElementById('addBaService').addEventListener('click', () => addService('ba'));

            // 懸浮視窗顯示模式
            document.getElementById('displayMode').addEventListener('change', updateFloatingDisplay);

            // 回到頂端按鈕
            const backToTop = document.getElementById('backToTop');
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTop.classList.remove('hidden');
                } else {
                    backToTop.classList.add('hidden');
                }
            });

            backToTop.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        function updateSubsidyAmount() {
            const cmsLevel = document.getElementById('cmsLevel').value;
            const foreignCare = document.getElementById('foreignCare').value;
            const subsidyElement = document.getElementById('subsidyAmount');
            
            if (cmsLevel) {
                let amount;
                if (foreignCare === 'yes') {
                    amount = cmsForeignCareSubsidy[cmsLevel];
                } else {
                    amount = cmsSubsidy[cmsLevel];
                }
                subsidyElement.textContent = `$${amount.toLocaleString()}`;
            } else {
                subsidyElement.textContent = '請選擇長照等級';
            }
        }

        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const arrow = document.getElementById(sectionId.replace('Section', 'Arrow'));
            
            if (section.classList.contains('hidden')) {
                section.classList.remove('hidden');
                arrow.style.transform = 'rotate(180deg)';
            } else {
                section.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        function updateServiceCount(code, price, count) {
            count = parseInt(count) || 0;
            
            // 更新小計顯示
            const subtotalElement = document.getElementById(`${code}-subtotal`);
            const cmsLevel = parseInt(document.getElementById('cmsLevel').value);
            const incomeLevel = document.getElementById('incomeLevel').value;
            const foreignCare = document.getElementById('foreignCare').value;
            
            if (count > 0) {
                let selfPayRate = selfPayRates[incomeLevel];
                
                // 如果聘請外籍看護且不是C碼，自負比例為100%
                if (foreignCare === 'yes' && !code.startsWith('C')) {
                    selfPayRate = 1.0;
                }
                
                // 計算自付額：單價 × 自負額比例，無條件捨去至整數位，再 × 次數
                const selfPayPerUnit = Math.floor(price * selfPayRate);
                const subtotal = selfPayPerUnit * count;
                subtotalElement.textContent = `$${subtotal.toLocaleString()}`;
                
                // 更新或新增到已選服務
                updateSelectedService(code, price, count, selfPayPerUnit);
            } else {
                subtotalElement.textContent = '$0';
                removeSelectedService(code);
            }
            
            calculateTotal();
        }

        function updateSelectedService(code, price, count, selfPayPerUnit) {
            const existingIndex = selectedServices.findIndex(s => s.code === code);
            
            let serviceName = '';
            if (baServices[code]) serviceName = baServices[code].name;
            else if (bbServices[code]) serviceName = bbServices[code].name;
            else if (bcServices[code]) serviceName = bcServices[code].name;
            else if (code.startsWith('BD')) {
                const bdNames = {
                    'BD01': '社區式協助沐浴',
                    'BD02': '社區式晚餐',
                    'BD03': '社區式交通接送服務'
                };
                serviceName = bdNames[code];
            } else if (code.startsWith('C')) {
                const cNames = {
                    'CA07': 'IADLs 復能、ADLs復能照護(3次)',
                    'CA08': '個別化服務計畫擬定與執行(4次)',
                    'CB01': '營養照護(4次)',
                    'CB02': '進食與吞嚥照護(6次)',
                    'CB03': '困擾行為照護(3次)',
                    'CB04': '臥床或長期活動受限照護(6次)',
                    'CC01': '居家環境安全或無障礙空間規劃(2次)',
                    'CD02': '居家護理指導與諮詢(4次)'
                };
                serviceName = cNames[code];
            }
            
            const service = {
                code: code,
                name: serviceName,
                price: price,
                count: count,
                selfPayPerUnit: selfPayPerUnit,
                type: code.startsWith('BA') ? 'ba' : code.startsWith('BB') ? 'bb' : code.startsWith('BC') ? 'bc' : code.startsWith('BD') ? 'bd' : 'c'
            };
            
            if (existingIndex >= 0) {
                selectedServices[existingIndex] = service;
            } else {
                selectedServices.push(service);
            }
            
            updateSelectedServicesList();
        }

        function removeSelectedService(code) {
            selectedServices = selectedServices.filter(s => s.code !== code);
            updateSelectedServicesList();
        }

        function addService(type) {
            const serviceSelect = document.getElementById(`${type}Service`);
            const countInput = document.getElementById(`${type}Count`);
            
            const serviceCode = serviceSelect.value;
            const count = parseInt(countInput.value) || 1;
            
            if (!serviceCode) {
                alert('請選擇服務項目');
                return;
            }

            const serviceData = baServices[serviceCode];
            const cmsLevel = parseInt(document.getElementById('cmsLevel').value);
            const incomeLevel = document.getElementById('incomeLevel').value;
            const foreignCare = document.getElementById('foreignCare').value;
            
            let selfPayRate = selfPayRates[incomeLevel];
            
            // 如果聘請外籍看護且不是C碼，自負比例為100%
            if (foreignCare === 'yes' && !serviceCode.startsWith('C')) {
                selfPayRate = 1.0;
            }
            
            // 計算自付額：單價 × 自負額比例，無條件捨去至整數位
            let selfPayPerUnit;
            if (serviceCode === 'BA15-2') {
                if (incomeLevel === 'general') selfPayPerUnit = 112;
                else if (incomeLevel === 'middle') selfPayPerUnit = 101;
                else selfPayPerUnit = 97;
            } else if (serviceCode === 'BA16-2') {
                if (incomeLevel === 'general') selfPayPerUnit = 75;
                else if (incomeLevel === 'middle') selfPayPerUnit = 68;
                else selfPayPerUnit = 65;
            } else {
                selfPayPerUnit = Math.floor(serviceData.price * selfPayRate);
            }

            const service = {
                code: serviceCode,
                name: serviceData.name,
                price: serviceData.price,
                count: count,
                selfPayPerUnit: selfPayPerUnit,
                type: type
            };

            selectedServices.push(service);
            updateSelectedServicesList();
            calculateTotal();

            // 重置選擇
            serviceSelect.value = '';
            countInput.value = 1;
        }

        function updateSelectedServicesList() {
            const container = document.getElementById('selectedServices');
            
            if (selectedServices.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-sm">尚未選擇任何服務</p>';
                return;
            }

            container.innerHTML = selectedServices.map((service, index) => `
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                    <div class="flex-1">
                        <span class="font-medium">${service.code}</span> - ${service.name}
                        <div class="text-sm text-gray-600">
                            單價: $${service.price} × 
                            <input type="number" min="1" value="${service.count}" 
                                   class="w-16 text-center border rounded px-1 mx-1" 
                                   onchange="updateSelectedServiceCount(${index}, this.value)">
                            次 = $${(service.price * service.count).toLocaleString()}
                        </div>
                    </div>
                    <button onclick="removeService(${index})" class="text-red-600 hover:text-red-800 ml-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        function updateSelectedServiceCount(index, newCount) {
            newCount = parseInt(newCount) || 1;
            selectedServices[index].count = newCount;
            
            // 重新計算自付額：單價 × 自負額比例，無條件捨去至整數位
            const service = selectedServices[index];
            const incomeLevel = document.getElementById('incomeLevel').value;
            const foreignCare = document.getElementById('foreignCare').value;
            
            let selfPayRate = selfPayRates[incomeLevel];
            
            // 如果聘請外籍看護且不是C碼，自負比例為100%
            if (foreignCare === 'yes' && !service.code.startsWith('C')) {
                selfPayRate = 1.0;
            }
            
            if (service.code === 'BA15-2') {
                if (incomeLevel === 'general') service.selfPayPerUnit = 112;
                else if (incomeLevel === 'middle') service.selfPayPerUnit = 101;
                else service.selfPayPerUnit = 97;
            } else if (service.code === 'BA16-2') {
                if (incomeLevel === 'general') service.selfPayPerUnit = 75;
                else if (incomeLevel === 'middle') service.selfPayPerUnit = 68;
                else service.selfPayPerUnit = 65;
            } else {
                service.selfPayPerUnit = Math.floor(service.price * selfPayRate);
            }
            
            updateSelectedServicesList();
            calculateTotal();
        }

        function removeService(index) {
            selectedServices.splice(index, 1);
            updateSelectedServicesList();
            calculateTotal();
        }

        function calculateTotal() {
            const cmsLevel = parseInt(document.getElementById('cmsLevel').value);
            const incomeLevel = document.getElementById('incomeLevel').value;
            const foreignCare = document.getElementById('foreignCare').value;
            
            if (!cmsLevel) {
                document.getElementById('totalUsed').textContent = '$0';
                document.getElementById('selfPayAmount').textContent = '$0';
                document.getElementById('remainingAmount').textContent = '$0';
                updateFloatingDisplay();
                return;
            }

            let totalSubsidy;
            if (foreignCare === 'yes') {
                totalSubsidy = cmsForeignCareSubsidy[cmsLevel];
            } else {
                totalSubsidy = cmsSubsidy[cmsLevel];
            }
            
            let totalUsed = 0;
            let totalSelfPay = 0;

            selectedServices.forEach(service => {
                const serviceTotal = service.price * service.count;
                totalUsed += serviceTotal;
                
                totalSelfPay += service.selfPayPerUnit * service.count;
            });

            const remainingAmount = totalSubsidy - totalUsed;

            document.getElementById('totalUsed').textContent = `$${totalUsed.toLocaleString()}`;
            document.getElementById('selfPayAmount').textContent = `$${totalSelfPay.toLocaleString()}`;
            document.getElementById('remainingAmount').textContent = `$${remainingAmount.toLocaleString()}`;
            document.getElementById('remainingAmount').className = `text-xl font-bold ${remainingAmount >= 0 ? 'text-green-600' : 'text-red-600'}`;
            
            updateFloatingDisplay();
        }

        function updateFloatingDisplay() {
            const displayMode = document.getElementById('displayMode').value;
            const floatingAmount = document.getElementById('floatingAmount');
            
            let amount, color;
            
            switch(displayMode) {
                case 'used':
                    amount = document.getElementById('totalUsed').textContent;
                    color = 'text-red-600';
                    break;
                case 'selfPay':
                    amount = document.getElementById('selfPayAmount').textContent;
                    color = 'text-orange-600';
                    break;
                case 'remaining':
                default:
                    amount = document.getElementById('remainingAmount').textContent;
                    color = document.getElementById('remainingAmount').className.includes('text-red-600') ? 'text-red-600' : 'text-green-600';
                    break;
            }
            
            floatingAmount.textContent = amount;
            floatingAmount.className = `text-lg font-bold ${color}`;
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96096f8b445c4a81',t:'MTc1Mjc1MjEyNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
